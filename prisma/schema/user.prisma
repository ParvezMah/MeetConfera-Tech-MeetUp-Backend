model User {
    id                 String         @id @default(uuid())
    name               String
    email              String         @unique
    password           String
    bio                String?
    interests          EventCategory?
    profilePhoto       String?
    contactNumber      String
    role               UserRole       @default(USER)
    location           String?
    needPasswordChange Boolean        @default(true)
    status             UserStatus     @default(ACTIVE)
    createdAt          DateTime       @default(now())
    updatedAt          DateTime       @updatedAt
    admin              Admin?
    host               Host?
    participants       Participant[]
    payments           Payment[]

    @@map("users")
}

model Admin {
    id            String   @id @default(uuid())
    name          String
    email         String   @unique
    profilePhoto  String?
    contactNumber String
    isDeleted     Boolean  @default(false)
    createdAt     DateTime @default(now())
    updatedAt     DateTime @updatedAt

    user User @relation(fields: [email], references: [email])

    @@map("admins")
}

model Host {
    id            String   @id @default(uuid())
    name          String
    email         String   @unique
    profilePhoto  String?
    contactNumber String
    organization  String?
    isDeleted     Boolean  @default(false)
    createdAt     DateTime @default(now())
    updatedAt     DateTime @updatedAt

    user   User    @relation(fields: [email], references: [email])
    events Event[] // one-to-mane relation: Host->Even

    @@map("hosts")
}

model Participant {
    id        String            @id @default(uuid())
    userId    String
    user      User              @relation(fields: [userId], references: [id])
    event     Event             @relation(fields: [eventId], references: [id])
    eventId   String
    payment   Payment?
    status    participantStatus @default(JOINED)
    joinedAt  DateTime          @default(now())

    @@map("participants")
}

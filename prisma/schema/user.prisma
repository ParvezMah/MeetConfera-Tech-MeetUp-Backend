model User {
  id                 String         @id @default(uuid())
  email              String         @unique
  password           String
  profilePhoto       String?
  contactNumber      String
  role               UserRole       @default(USER)
  needPasswordChange Boolean        @default(true)
  status             UserStatus     @default(ACTIVE)
  createdAt          DateTime       @default(now())
  updatedAt          DateTime       @updatedAt
  bio                String?
  location           String?
  name               String
  interests          EventCategory?
  admin              Admin?
  host               Host?
  participants       Participant[]
  payments           Payment[]

  @@map("users")
}

model Admin {
  id            String   @id @default(uuid())
  name          String
  email         String   @unique
  profilePhoto  String?
  contactNumber String
  isDeleted     Boolean  @default(false)
  createdAt     DateTime @default(now())
  updatedAt     DateTime @updatedAt
  user          User     @relation(fields: [email], references: [email])

  @@map("admins")
}

model Host {
  id            String   @id @default(uuid())
  name          String
  email         String   @unique
  profilePhoto  String?
  contactNumber String
  organization  String?
  isDeleted     Boolean  @default(false)
  createdAt     DateTime @default(now())
  updatedAt     DateTime @updatedAt
  averageRating Float    @default(0)
  events        Event[]
  user          User     @relation(fields: [email], references: [email])
  reviews       Review[]

  @@map("hosts")
}

model Participant {
  id       String            @id @default(uuid())
  userId   String
  eventId  String
  joinedAt DateTime          @default(now())
  status   participantStatus @default(JOINED)
  event    Event             @relation(fields: [eventId], references: [id])
  user     User              @relation(fields: [userId], references: [id])
  payment  Payment?
  reviews  Review[]

  @@map("participants")
}
